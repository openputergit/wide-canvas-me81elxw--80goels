<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Management System</title>
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body class="bg-gray-100">
    <div id="root">
        <!-- Navigation -->
        <nav class="bg-blue-600 p-4">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-white text-xl font-bold">Device Management System</h1>
                <div class="flex items-center space-x-4">
                    <span class="text-white">Admin</span>
                    <button class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600" onclick="logout()">Logout</button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="container mx-auto p-6">
            <!-- Tabs -->
            <div class="flex space-x-4 mb-6">
                <button class="tab-btn bg-blue-500 text-white px-4 py-2 rounded" onclick="showTab('master-devices')">Master Devices</button>
                <button class="tab-btn bg-blue-500 text-white px-4 py-2 rounded" onclick="showTab('sub-devices')">Sub Devices</button>
                <button class="tab-btn bg-blue-500 text-white px-4 py-2 rounded" onclick="showTab('alarms')">Alarm History</button>
            </div>

            <!-- Master Devices Section -->
            <div id="master-devices" class="tab-content">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold mb-4">Master Devices</h2>
                    <button class="bg-green-500 text-white px-4 py-2 rounded mb-4" onclick="showAddMasterDeviceModal()">
                        Add Master Device
                    </button>
                    <div class="overflow-x-auto">
                        <table class="min-w-full table-auto">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="px-4 py-2">ID</th>
                                    <th class="px-4 py-2">Name</th>
                                    <th class="px-4 py-2">Location</th>
                                    <th class="px-4 py-2">Status</th>
                                    <th class="px-4 py-2">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="master-devices-table">
                                <!-- Dynamic content -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Sub Devices Section -->
            <div id="sub-devices" class="tab-content hidden">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold mb-4">Sub Devices</h2>
                    <button class="bg-green-500 text-white px-4 py-2 rounded mb-4" onclick="showAddSubDeviceModal()">
                        Add Sub Device
                    </button>
                    <div class="overflow-x-auto">
                        <table class="min-w-full table-auto">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="px-4 py-2">ID</th>
                                    <th class="px-4 py-2">Name</th>
                                    <th class="px-4 py-2">Master Device</th>
                                    <th class="px-4 py-2">Status</th>
                                    <th class="px-4 py-2">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="sub-devices-table">
                                <!-- Dynamic content -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Alarm History Section -->
            <div id="alarms" class="tab-content hidden">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold mb-4">Alarm History</h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full table-auto">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="px-4 py-2">ID</th>
                                    <th class="px-4 py-2">Device</th>
                                    <th class="px-4 py-2">Type</th>
                                    <th class="px-4 py-2">Timestamp</th>
                                    <th class="px-4 py-2">Status</th>
                                </tr>
                            </thead>
                            <tbody id="alarms-table">
                                <!-- Dynamic content -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modals -->
        <!-- Add Master Device Modal -->
        <div id="add-master-device-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center">
            <div class="bg-white p-6 rounded-lg w-96">
                <h3 class="text-xl font-bold mb-4">Add Master Device</h3>
                <form id="add-master-device-form">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Device Name</label>
                        <input type="text" class="w-full p-2 border rounded" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Location</label>
                        <input type="text" class="w-full p-2 border rounded" required>
                    </div>
                    <div class="flex justify-end space-x-2">
                        <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded" onclick="hideModal('add-master-device-modal')">Cancel</button>
                        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Add Device</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Sub Device Modal -->
        <div id="add-sub-device-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center">
            <div class="bg-white p-6 rounded-lg w-96">
                <h3 class="text-xl font-bold mb-4">Add Sub Device</h3>
                <form id="add-sub-device-form">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Device Name</label>
                        <input type="text" class="w-full p-2 border rounded" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Master Device</label>
                        <select class="w-full p-2 border rounded" required>
                            <option value="">Select Master Device</option>
                        </select>
                    </div>
                    <div class="flex justify-end space-x-2">
                        <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded" onclick="hideModal('add-sub-device-modal')">Cancel</button>
                        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Add Device</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
            document.getElementById(tabId).classList.remove('hidden');
        }

        // Modal functionality
        function showAddMasterDeviceModal() {
            document.getElementById('add-master-device-modal').classList.remove('hidden');
        }

        function showAddSubDeviceModal() {
            document.getElementById('add-sub-device-modal').classList.remove('hidden');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        // Mock data and functionality (Replace with actual API calls)
        const masterDevices = [];
        const subDevices = [];
        const alarms = [];

        // Form submissions
        document.getElementById('add-master-device-form').onsubmit = (e) => {
            e.preventDefault();
            // Add API call here
            hideModal('add-master-device-modal');
        };

        document.getElementById('add-sub-device-form').onsubmit = (e) => {
            e.preventDefault();
            // Add API call here
            hideModal('add-sub-device-modal');
        };

        function logout() {
            // Add logout logic here
            console.log('Logging out...');
        }

        // Initialize with master devices tab
        showTab('master-devices');
    </script>
<script>document.body.addEventListener('wheel', e => { if (!e.ctrlKey) return; e.preventDefault(); return }, { passive: false })</script>
	</body>
</html>